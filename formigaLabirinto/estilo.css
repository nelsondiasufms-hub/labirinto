:root{
  --panel:#0f172a; --text:#e5e7eb; --wall:#334155;
  --ok:#10b981; --btn:#1f6feb;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:#000; color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  display:flex; align-items:center; justify-content:center; padding:16px;
}
.app{width:min(960px,100%)}

.topbar{display:flex; align-items:center; justify-content:space-between; gap:12px}
.topbar h1{margin:.2rem 0; font-weight:800}
.controls{display:flex; gap:8px; align-items:center}
.controls select, .controls button{
  padding:.5rem .7rem; border-radius:10px; border:1px solid #1f2937;
  background:#0b1020; color:var(--text)
}
.controls button{border:none; background:var(--btn); cursor:pointer}

.hint{margin:.5rem 0 1rem; opacity:.85}

#labirinto{
  position:relative; width:720px; height:520px; margin:0 auto 8px;
  background:var(--panel); border-radius:14px; overflow:hidden;
  outline:2px solid #1f2937; box-shadow:0 10px 40px rgba(0,0,0,.35), inset 0 0 0 8px #0b1020;
  touch-action:none;                /* impede gestos de scroll/zoom */
  overscroll-behavior:contain;      /* evita pull-to-refresh */
}

/* fundo da fase */
.maze-bg{
  position:absolute; inset:0;
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  opacity:1;
  z-index:0;
}

/* canvas da trilha */
#trail{
  position:absolute; left:0; top:0; width:100%; height:100%;
  pointer-events:none; /* não interfere no toque */
  z-index:1;
}

/* paredes (quando usadas) */
.wall{
  position:absolute; background:linear-gradient(180deg,var(--wall),#243041);
  border-radius:6px; box-shadow:0 0 0 1px #1b2533, inset 0 0 6px rgba(0,0,0,.4);
  z-index:2;
}

/* início/objetivo e formiga */
.pad{
  position:absolute; width:92px; height:56px; border-radius:10px;
  background:linear-gradient(180deg,#0f3aa6,#0b2a7c);
  display:flex; align-items:center; justify-content:center; font-weight:700; letter-spacing:.5px;
  box-shadow:0 8px 18px rgba(14,74,214,.35), inset 0 0 0 2px #08235f;
  z-index:3;
}
.goal{
  position:absolute; width:120px; height:120px; border-radius:14px;
  background:#0b0f18; outline:2px dashed #2b3548;
  display:flex; align-items:center; justify-content:center; padding:8px;
  z-index:3;
}
.goal img{max-width:100%; max-height:100%; display:block; border-radius:10px}

#ant{
  position:absolute; width:46px; height:46px;
  -webkit-user-drag:none; user-select:none; touch-action:none;
  cursor:grab; filter:drop-shadow(0 6px 10px rgba(0,0,0,.45));
  z-index:4; /* acima do canvas e das paredes */
}
#ant:active{cursor:grabbing}

#msg{min-height:1.4rem; text-align:center; margin:.5rem auto 0}
#msg .ok{color:var(--ok); font-weight:700}

.footer-actions{display:flex; justify-content:center}
.footer-actions button{
  padding:.7rem 1rem; border-radius:10px; border:none; background:#0ea271; color:#fff; font-weight:700; cursor:pointer;
}
.hidden{display:none}

@media (max-width:780px){
  #labirinto{width:94vw; height:68vw; max-height:70vh}
  #ant{width:40px; height:40px}
}
